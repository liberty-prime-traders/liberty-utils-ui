<div class="grid p-3 gap-2">
  <div class="col-12 md:col-3">
    <p-card class="gap-2">
      <h2 class="text-xl font-semibold mb-3">People</h2>

      <p-iconfield iconPosition="left">
        <p-inputicon class="pi pi-search" />
        <input type="text"
               pInputText
               class="w-full"
               placeholder="Search by name or relationship..."
               (input)="searchTerm.set($any($event.target).value)">
      </p-iconfield>

      @for (person of filteredContacts(); track person.id) {
        <div class="flex align-items-center justify-content-between p-2 border-round-sm hover:bg-gray-50 cursor-pointer"
             (click)="goToPersonDetail(person.id)">

          <div class="flex align-items-center gap-1">
            <div class="flex align-items-center justify-content-center bg-primary text-white border-circle"
                 style="width: 2.5rem; height: 2.5rem;">
              {{ person.initials }}
            </div>

            <div>
              <div class="font-medium">{{ person.fullName }}</div>
            </div>
          </div>

          <div class="font-bold text-right text-sm">
            {{ person.balance | currency:'USD' }}
          </div>
        </div>
      }
      @if(filteredContacts().length == 0) {
      <div class="text-center py-4">
        No person found.
      </div>
      }
    </p-card>
  </div>

  <div class="col-12 md:col-4">
    <router-outlet />
  </div>
</div>
